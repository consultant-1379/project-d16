/*!
 * COPYRIGHT Ericsson 2022
 * The copyright to the computer program(s) herein is the property of
 * Ericsson Inc. The programs may be used and/or copied only with written
 * permission from Ericsson Inc. or in accordance with the terms and
 * conditions stipulated in the agreement/contract under which the
 * program(s) have been supplied.
 * 
 */
define(["@eui/lit-component","@eui/component","@eui/panel","@eui/base","@eui/theme"],(function(e,n,t,i,r){return function(e){var n={};function t(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,t),r.l=!0,r.exports}return t.m=e,t.c=n,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:i})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(t.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var r in e)t.d(i,r,function(n){return e[n]}.bind(null,r));return i},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=36)}({0:function(n,t){n.exports=e},1:function(e,n,t){"use strict";function i(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==t)return;var i,r,a=[],o=!0,l=!1;try{for(t=t.call(e);!(o=(i=t.next()).done)&&(a.push(i.value),!n||a.length!==n);o=!0);}catch(e){l=!0,r=e}finally{try{o||null==t.return||t.return()}finally{if(l)throw r}}return a}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return r(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return r(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,i=new Array(n);t<n;t++)i[t]=e[t];return i}e.exports=function(e){var n=i(e,4),t=n[1],r=n[3];if(!r)return t;if("function"==typeof btoa){var a=btoa(unescape(encodeURIComponent(JSON.stringify(r)))),o="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(a),l="/*# ".concat(o," */"),s=r.sources.map((function(e){return"/*# sourceURL=".concat(r.sourceRoot||"").concat(e," */")}));return[t].concat(s).concat([l]).join("\n")}return[t].join("\n")}},16:function(e,n,t){"use strict";var i=t(1),r=t.n(i),a=t(2),o=t.n(a)()(r.a);o.push([e.i,":host {\n  height: 100% !important;\n  overflow:auto;\n  display:block;\n}","",{version:3,sources:["webpack://./src/panels/menu-panel/src/menuPanel.css"],names:[],mappings:"AAAA;EACE,uBAAuB;EACvB,aAAa;EACb,aAAa;AACf",sourcesContent:[":host {\n  height: 100% !important;\n  overflow:auto;\n  display:block;\n}"],sourceRoot:""}]),n.a=o},17:function(e,n,t){"use strict";var i=t(1),r=t.n(i),a=t(2),o=t.n(a)()(r.a);o.push([e.i,'/* style goes here */\n:host{\n  display: block;\n  font-family: var(--font-main, "Ericsson Hilda", "Helvetica");\n}\n\n.tree {\n  list-style-type: none;\n  margin: 0;\n  padding: 0;\n  opacity: 1;\n}\n\n.tree-item-title {\n  display: flex;\n  align-items: center;\n  padding-top: 12px;\n  padding-bottom: 12px;\n  user-select: none;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -khtml-user-select: none;\n  -ms-user-select: none;\n}\n\n.tree-item-title:hover {\n  background: var(--tree-hover, #DCDCDC);\n  cursor: pointer;\n}\n\n.tree-item-title a {\n  text-decoration: none;\n  color: inherit;\n  flex: auto;\n}\n\n.icon {\n  flex: none;\n  padding-left: 9px;\n  padding-right: 6px;\n  color: var(--text, #242424);\n  vertical-align: middle;\n}\n\n.tree-node.tree-node-selected > span .icon{\n  --icon-color: var(--white, #FFF);\n}\n\n.tree-child-tree {\n  list-style-type: none;\n  margin: 0;\n  padding: 0;\n  opacity: 1;\n}\n\n.tree-node > .tree-child-tree {\n  display: none;\n}\n\n.tree-node.tree-node-open > .tree-child-tree {\n  display: block;\n}\n\n.tree-node.tree-node-selected > .tree-item-title {\n  background: var(--blue, #1174E6);\n  color: var(--white, #FFF);\n}\n\n#external-launch-icon {\n  visibility: hidden;\n  padding-right: var(--space-base, 8px);\n}\n\n.tree-item-title:hover #external-launch-icon {\n  visibility: visible;\n}',"",{version:3,sources:["webpack://./src/panels/menu-panel/src/navigation/navigation.css"],names:[],mappings:"AAAA,oBAAoB;AACpB;EACE,cAAc;EACd,4DAA4D;AAC9D;;AAEA;EACE,qBAAqB;EACrB,SAAS;EACT,UAAU;EACV,UAAU;AACZ;;AAEA;EACE,aAAa;EACb,mBAAmB;EACnB,iBAAiB;EACjB,oBAAoB;EACpB,iBAAiB;EACjB,yBAAyB;EACzB,sBAAsB;EACtB,wBAAwB;EACxB,qBAAqB;AACvB;;AAEA;EACE,sCAAsC;EACtC,eAAe;AACjB;;AAEA;EACE,qBAAqB;EACrB,cAAc;EACd,UAAU;AACZ;;AAEA;EACE,UAAU;EACV,iBAAiB;EACjB,kBAAkB;EAClB,2BAA2B;EAC3B,sBAAsB;AACxB;;AAEA;EACE,gCAAgC;AAClC;;AAEA;EACE,qBAAqB;EACrB,SAAS;EACT,UAAU;EACV,UAAU;AACZ;;AAEA;EACE,aAAa;AACf;;AAEA;EACE,cAAc;AAChB;;AAEA;EACE,gCAAgC;EAChC,yBAAyB;AAC3B;;AAEA;EACE,kBAAkB;EAClB,qCAAqC;AACvC;;AAEA;EACE,mBAAmB;AACrB",sourcesContent:['/* style goes here */\n:host{\n  display: block;\n  font-family: var(--font-main, "Ericsson Hilda", "Helvetica");\n}\n\n.tree {\n  list-style-type: none;\n  margin: 0;\n  padding: 0;\n  opacity: 1;\n}\n\n.tree-item-title {\n  display: flex;\n  align-items: center;\n  padding-top: 12px;\n  padding-bottom: 12px;\n  user-select: none;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -khtml-user-select: none;\n  -ms-user-select: none;\n}\n\n.tree-item-title:hover {\n  background: var(--tree-hover, #DCDCDC);\n  cursor: pointer;\n}\n\n.tree-item-title a {\n  text-decoration: none;\n  color: inherit;\n  flex: auto;\n}\n\n.icon {\n  flex: none;\n  padding-left: 9px;\n  padding-right: 6px;\n  color: var(--text, #242424);\n  vertical-align: middle;\n}\n\n.tree-node.tree-node-selected > span .icon{\n  --icon-color: var(--white, #FFF);\n}\n\n.tree-child-tree {\n  list-style-type: none;\n  margin: 0;\n  padding: 0;\n  opacity: 1;\n}\n\n.tree-node > .tree-child-tree {\n  display: none;\n}\n\n.tree-node.tree-node-open > .tree-child-tree {\n  display: block;\n}\n\n.tree-node.tree-node-selected > .tree-item-title {\n  background: var(--blue, #1174E6);\n  color: var(--white, #FFF);\n}\n\n#external-launch-icon {\n  visibility: hidden;\n  padding-right: var(--space-base, 8px);\n}\n\n.tree-item-title:hover #external-launch-icon {\n  visibility: visible;\n}'],sourceRoot:""}]),n.a=o},2:function(e,n,t){"use strict";e.exports=function(e){var n=[];return n.toString=function(){return this.map((function(n){var t=e(n);return n[2]?"@media ".concat(n[2]," {").concat(t,"}"):t})).join("")},n.i=function(e,t,i){"string"==typeof e&&(e=[[null,e,""]]);var r={};if(i)for(var a=0;a<this.length;a++){var o=this[a][0];null!=o&&(r[o]=!0)}for(var l=0;l<e.length;l++){var s=[].concat(e[l]);i&&r[s[0]]||(t&&(s[2]?s[2]="".concat(t," and ").concat(s[2]):s[2]=t),n.push(s))}},n}},3:function(e,t){e.exports=n},31:function(e,n){e.exports=r},36:function(e,n,t){"use strict";t.r(n),t.d(n,"default",(function(){return d}));var i,r=t(3),a=t(5),o=t(0),l=t(16),s=(t(31),t(6),t(17));var c;(Object(r.definition)("eui-navigation",{style:s.a,props:{data:{type:Array},activePath:{type:String},isUpdating:{type:Boolean}}})(i=class extends o.LitComponent{constructor(){super(),this.needInitializing=!0}deselectAll(){this._recursivelyOperateTreeLikeData(this.data,e=>e.selected=!1)}_recursivelyOperateTreeLikeData(e,n){for(const t of e)t.children&&this._recursivelyOperateTreeLikeData(t.children,n),n(t)}clickChevron(e,n){n.open=!n.open,this.isUpdating=!this.isUpdating,e.stopPropagation()}clickNode(e,n,t){this._blockNavigationEvent(e,t)||("group"===n.type?this.clickChevron(e,n):(this.deselectAll(),n.selected=!0,this.bubble("eui:navigation",n),this.isUpdating=!this.isUpdating,e.stopPropagation()))}_blockNavigationEvent(e,n){return!(("A"!==e.target.tagName||!e.ctrlKey&&"external"!==n)&&"brokenLink"!==n&&"brokenConfig"!==n)}getTreeItemAdditionalStyle(e,n){return n?`padding-left: calc(${e}em + 29px);`:`padding-left: ${e}em`}getTreeNodeClass(e){return Object(o.classMap)({"tree-node":!0,"tree-node-selected":e.selected,"tree-node-open":e.open})}initializeTreeState(){this.needInitializing&&this.activePath&&(this._recursivelyOperateTreeLikeData(this.data,e=>{e.selected=e.data&&e.data.path===this.activePath,e.children&&(e.open=e.children.some(e=>e.selected||e.open))}),this.needInitializing=!1)}_validateTreeConfig(e){let n;return n=e.id&&e.label?"group"===e.type?"group":e.data&&0!==Object.keys(e.data).length?"external"===e.type?e.data.url?"external":"brokenLink":e.data.path?"app":"brokenLink":"brokenLink":"brokenConfig",n}generateTreeItems(){return(this.data||[]).map(e=>this._generateTreeItem(e,0))}_generateTreeItem(e,n){const t=this._validateTreeConfig(e);let i;switch(t){case"brokenConfig":i=o.html`Broken Menu Item`,console.warn("Current Menu Item is not configured correctly");break;case"group":i=o.html`${e.label}`;break;case"brokenLink":i=o.html`${e.label}`,console.warn(`Menu Item ${e.id} is not a valid link`);break;case"external":i=o.html`<a href="${e.data.url}" target="__blank">${e.label}</a>`;break;default:i=o.html`<a href="#${e.data.path}">${e.label}</a>`}return e.children?o.html`
        <li
          class=${this.getTreeNodeClass(e)}
          @click=${n=>this.clickNode(n,e,t)}
        >
          <span class="tree-item-title" style=${this.getTreeItemAdditionalStyle(n)}>
            <eui-v0-icon
              id="tree-chevron"
              @click=${n=>this.clickChevron(n,e)}
              class="icon"
              name=${e.open?"chevron-down":"chevron-right"}
              size="14px"
            >
            </eui-v0-icon>
            ${i}
          </span>
          <ul class="tree-child-tree">
            ${e.children.map(e=>this._generateTreeItem(e,n+1))}
          </ul>
        </li>
      `:o.html`
      <li
        class=${this.getTreeNodeClass(e)}
        @click=${n=>this.clickNode(n,e,t)}
      >
        <span class="tree-item-title" style=${this.getTreeItemAdditionalStyle(n,!0)}>
          ${i}
          ${"external"===e.type?o.html`<eui-v0-icon id="external-launch-icon" name="launch"></eui-v0-icon>`:o.nothing}
        </span>
      </li>
    `}didChangeProps(e){this._recursivelyOperateTreeLikeData(this.data,n=>{n.selected=n.data&&n.data.path===this.activePath,1===e.size&&e.has("isUpdating")||(n.hasChildSelected=n.children&&n.children.some(e=>e.selected||e.hasChildSelected),n.open=n.open||n.hasChildSelected)})}render(){this.initializeTreeState();const e=this.generateTreeItems();return o.html`
      <div class="tree-holder">
        <ul class="tree">
          ${e}
        </ul>
      </div>
    `}})||i).register();let d=Object(r.definition)("eui-menu-panel",{style:l.a,props:{_menuData:{type:Array}}})(c=class extends a.Panel{handleEvent(e){if("eui:navigation"===e.type){const{path:n,url:t}=e.detail.data;t&&"external"===e.detail.type?window.open(t):n&&EUI.Router.goto(n)}}_updateMenuStrings(e){const{MENU:n}=EUI.Localizer.loc;n&&function e(t){t.forEach(t=>{t.label=n[t.id]||t.label,t.children&&e(t.children)})}(e)}didConnect(){this.state=this.storeConnect(["locale","activeAppPath"]),this._menuData=EUI.MenuConfig.app.menu.data,this._updateMenuStrings(this._menuData),this._menuData=[...this._menuData]}didChangeProps(e){e.has("state")&&this.state.locale!==this.locale&&(this._updateMenuStrings(this._menuData),this._menuData=[...this._menuData])}render(){return o.html`
      <eui-navigation
        @eui:navigation="${this}"
        .data=${this._menuData}
        .activePath=${this.state.activeAppPath}>
      </eui-navigation>
    `}})||c},5:function(e,n){e.exports=t},6:function(e,n){e.exports=i}})}));