# `@eui/lit-component`

A renderer for `@eui/component` which uses Polymer's
[lit-html](https://github.com/lit/lit/).

`lit-html` makes use of
[tagged template literals](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals),
a built-in feature of ES2015, so allow the easy creation of HTML templates in
JavaScript without needing any transpilation before delivering to the browser
(given that the user is on a modern browser).

## Setup

### Install the dependencies

```bash
npm install
```

### Build the project (with source maps)

```bash
npm run build
```

### Linting the project
```bash
npm run lint
```

## Usage

```js
import { LitComponent, html } from '@eui/lit-component'

export default class MyComponent extends LitComponent {
  static get is() {
    return 'my-component';
  }

  static get props() {
    return {
      name: { attribute: true },
    };
  }

  render() {
    const showWelcome = true;
    return html`
      <div class="container">
        <h1>Hello, ${name}!</h1>

        ${showWelcome && html`<p>Welcome to my component</p>`}

        <other-component objectProperty=${{ key: 'value' }}></other-component>
      </div>
    `;
  }
}
```

## Template Structure

lit-html templates must be well-formed HTML, and bindings can only occur in certain places. The templates are parsed by the browser's built-in HTML parser before any values are interpolated. 

**No warnings.** Most cases of malformed templates are not detectable by lit-html, so you won't see any warnings—just templates that don't behave as you expect—so take extra care to structure templates properly. 

Follow these rules for well-formed templates:

 *  Templates must be well-formed HTML when all expressions are replaced by empty values.

 *  Bindings **_can only occur_** in attribute-value and text-content positions.

    ```html
    <!-- attribute value -->
    <div label="${label}"></div>

    <!-- text content -->
    <div>${textContent}</div>
    ```

 *  Templates can have multiple top-level elements and text.

 *  Templates **_should not contain_** unclosed elements—they will be closed by the HTML parser.

    ```js
    // HTML parser closes this div after "Some text"
    const template1 = html`<div class="broken-div">Some text`;
    // When joined, "more text" does not end up in .broken-div
    const template2 = html`${template1} more text. </div>`;
    ```

## Binding Types

Expressions can occur in text content or in attribute value positions.

There are a few types of bindings:

  * Text:

    ```js
    html`<h1>Hello ${name}</h1>`
    ```

    Text bindings can occur anywhere in the text content of an element.

  * Attribute:

    ```js
    html`<div id=${id}></div`
    ```

  * Boolean Attribute:

    ```js
    html`<input type="checkbox" ?checked=${checked}>`
    ```

  * Property:

    ```js
    html`<input .value=${value}>`
    ```

  * Event Listener:

    ```js
    html`<button @click=${(e) => console.log('clicked')}>Click Me</button>`
    ```

### Event Listeners

Event listeners can be functions or objects with a `handleEvent` method. Listeners are passed as both the listener and options arguments to `addEventListener`/`removeEventListener`, so that the listener can carry event listener options like `capture`, `passive`, and `once`.

```js
const listener = {
  handleEvent(e) {
    console.log('clicked');
  }
  capture: true;
};

html`<button @click=${listener}>Click Me</button>`
```

## Supported Data Types

Each binding type supports different types of values:

 * Text content bindings: Many supported types—see below.

 * Attribute bindings: All values are converted to strings.

 * Boolean attribute bindings: All values evaluated for truthiness.

 * Property bindings: Any type of value.

 * Event handler bindings: Event handler functions or objects only.


## Limitations

- `lit-html` only allows certain parts of a template to be dynamic: the
  attribute values, and their text content.  Element tag names and attribute
  names cannot be dynamic, i.e. `<${tagName}></${tagName}>` will not work.  In
  general this is not an issue, as most templates can be written out statically
  at some point in the code.

Please Refer lit-html documentation on [Writing templates](https://lit.dev/docs/templates/overview/) and
[Syntax reference](https://lit.dev/docs/templates/directives/) for more information.
