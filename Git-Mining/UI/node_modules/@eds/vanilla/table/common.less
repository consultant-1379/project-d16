/////////////////////////////////////
// Table - Common
/////////////////////////////////////
@import (reference, multiple) "../variables/global";

// Table top
.table-top {
  display: flex;
  justify-content: space-between;
  align-items: center;
  flex-wrap: nowrap;
  margin-bottom: @space-large;

  .table-top-left {
    display: flex;
    align-items: center;
  }

  .table-top-right {
    display: flex;
    align-items: center;
    margin-left: auto; // align right even without table-top-left
  }

  .table-info {
    margin-right: @space-base;
    white-space: nowrap;
    color: @table-info;
  }

  .table-buttons {
    white-space: nowrap;
    .dropdown {
      margin-left: @space-base;
    }

    > .btn.hidden,
    .dropdown .item.hidden{
      display: none;
    }
  }

  .table-actions {
    margin-left: @space-base;
    > button,
    > .icon {
      margin-left: @space-base;
    }
  }
}

// Table bottom
.table-bottom {
  .pagination-group {
    padding-top: 0;
  }
}

// Scroll wrapper
.table-scroll {
  display: block;
  width: 100%;
  overflow-x: auto;
  margin-bottom: @space-large;
  border-bottom: 1px solid @table-outer-gray;
  // without this padding there will a vertical scroll if expand row
  padding-bottom: 1px;

  .table {
    // to compensate padding
    margin-bottom: -1px;

    &:after {
      display: none;
    }
  }
}

// Th tooltip
.table {
  th .tooltip .message {
    max-width: 200px;
    white-space: normal;
  }
}

// Sticky head
// Solution from https://stackoverflow.com/questions/21168521/table-fixed-header-and-scrollable-body
.sticky {
  overflow-y: auto;
  border-bottom: 1px solid @table-outer-gray; // always show bottom border

  .table {
    th {
      position: sticky;
      top: 0;
      border-bottom: none;
      box-shadow: inset 0 -1px @table-outer-gray;
      background: @layer2; // same as tile color
      z-index: 1;
    }

    &::after {
      display: none;
    }
  }
}

// Actions cell
.table {
  tr {
    .cell-actions {
      // fit width to content
      width: 1%; // this might not work well with table-layout: fixed
      white-space: nowrap;

      > * {
        visibility: hidden;
      }

      > .icon {
        cursor: pointer;
        font-size: 16px;
      }

      > .icon,
      > .more {
        margin-right: @space-large;
        &:last-child {
          margin-right: 0;
        }
      }
    }
  }

  tr:hover,
  tr.selected {
    .cell-actions {
      > * {
        visibility: visible;
      }
    }
  }

  .dropdown.more .btn .icon {
    color: @text;
  }
}

// Not supported IE11
@media (hover: none) {
  .table tr .cell-actions > * {
    visibility: visible;
  }
}

// Hidden columns
.table {
  th.hidden, td.hidden {
    display: none;
  }
}

// Empty state
.table {
  .no-data-row:hover {
    background-color: inherit;
  }
  .no-data-row td {
    text-align: center;
  }
}
